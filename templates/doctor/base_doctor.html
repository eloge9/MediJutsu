<!DOCTYPE html>
<html lang="en">


<!-- Mirrored from buybootstrap.com/demos/medflex/medflex-admin-dashboard/doctor-dashboard.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 30 Mar 2025 01:30:13 GMT -->

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>MediJutsu</title>

  <!-- Meta -->
  <meta name="description" content="Marketplace for Bootstrap Admin Dashboards">
  <meta property="og:title" content="Admin Templates - Dashboard Templates">
  <meta property="og:description" content="Marketplace for Bootstrap Admin Dashboards">
  <meta property="og:type" content="Website">
  <link rel="icon" type="image/svg+xml" href="{{ url_for('static', filename='images/logo-medijutsu.ico') }}">


  <!-- *************
        ************ CSS Files *************
    ************* -->
  <link rel="stylesheet" href="{{ url_for('static', filename='fonts/remix/remixicon.css') }}">
  <link rel="stylesheet" href="{{ url_for('static', filename='css/main.min.css') }}">

  <!-- *************
        ************ Vendor Css Files *************
    ************* -->

  <!-- Scrollbar CSS -->
  <link rel="stylesheet" href="{{ url_for('static', filename='vendor/overlay-scroll/OverlayScrollbars.min.css') }}">

</head>

<body>

  <!-- Page wrapper starts -->
  <div class="page-wrapper">

    <!-- App header starts -->
    {% block header %}
    {% include 'doctor/includes_doctor/header_doctor.html'%}
    {% endblock%}
    <!-- App header ends -->

    <!-- Main container starts -->
    <div class="main-container">

      <!-- Sidebar wrapper starts -->
      {% block navbar%}
      {%include 'doctor/includes_doctor/navbar_doctor.html' %}
      {% endblock %}
      <!-- Sidebar wrapper ends -->


      <div id="notif-area" style="position: fixed; top: 20px; right: 20px; z-index: 9999;">
      </div>


      <!-- App container starts -->
      {% block content %}

      {% endblock %}
      <!-- App container ends -->
      <!-- App footer starts -->
      {%block footer%}
      {% include 'doctor/includes_doctor/footer_doctor.html' %}
      {%endblock%}
      <!-- App footer ends -->
    </div>
    <!-- Main container ends -->

  </div>
  <!-- Page wrapper ends -->

  <!-- *************
			************ JavaScript Files *************
		************* -->
  <!-- Required jQuery first, then Bootstrap Bundle JS -->
  <script src="{{ url_for('static', filename='js/jquery.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/bootstrap.bundle.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/moment.min.js') }}"></script>

  <!-- *************
        ************ Vendor Js Files *************
    ************* -->

  <!-- Overlay Scroll JS -->
  <script src="{{ url_for('static', filename='vendor/overlay-scroll/jquery.overlayScrollbars.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/overlay-scroll/custom-scrollbar.js') }}"></script>

  <!-- Apex Charts -->
  <script src="{{ url_for('static', filename='vendor/apex/apexcharts.min.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/apex/custom/doc-dashboard/patients.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/apex/custom/doc-dashboard/appointments.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/apex/custom/doc-dashboard/gender.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/apex/custom/doc-dashboard/surgeries.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/apex/custom/doc-dashboard/income.js') }}"></script>

  <!-- Raty JS -->
  <script src="{{ url_for('static', filename='vendor/rating/raty.js') }}"></script>
  <script src="{{ url_for('static', filename='vendor/rating/raty-custom.js') }}"></script>

  <!-- Custom JS files -->
  <script src="{{ url_for('static', filename='js/custom.js') }}"></script>
  <script>
    function checkNotifications() {
      fetch("/get_notifications")
        .then(response => response.json())
        .then(data => {
          let badge = document.getElementById("notif-badge");
          let list = document.getElementById("notif-list");

          // Badge
          badge.textContent = data.count;

          // Liste
          list.innerHTML = "";
          if (data.count === 0) {
            list.innerHTML = `<li><span class="dropdown-item">Aucune notification</span></li>`;
          } else {
            data.notifications.forEach(n => {
              list.innerHTML += `
                      <li>
                        <a class="dropdown-item" href="#" onclick="markAsRead(${n.id})">
                          ${n.message}
                        </a>
                      </li>`;
            });
          }
        });
    }

    function markAsRead(id) {
      fetch(`/mark_as_read/${id}`)
        .then(() => checkNotifications());
    }

    // VÃ©rifie toutes les 5 secondes
    setInterval(checkNotifications, 5000);

    // Lancer au chargement
    checkNotifications();
  </script>

</body>


<!-- Mirrored from buybootstrap.com/demos/medflex/medflex-admin-dashboard/doctor-dashboard.html by HTTrack Website Copier/3.x [XR&CO'2014], Sun, 30 Mar 2025 01:30:25 GMT -->

</html>